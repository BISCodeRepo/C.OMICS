<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>PDIAMOND</title>


   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   <!-- Optional theme -->
   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
   <!-- Latest compiled and minified JavaScript -->
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
   <!-- Latest compiled and minified CSS -->
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
   <!-- Latest compiled and minified JavaScript -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>


   <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
   <script src="https://cdn.plot.ly/plotly-2.20.0.min.js"></script>


   <link rel="stylesheet" href="https://software.broadinstitute.org/morpheus/css/morpheus-latest.min.css">
   <script type="text/javascript"
         src="https://software.broadinstitute.org/morpheus/js/morpheus-external-latest.min.js"></script>
        <script src="https://software.broadinstitute.org/morpheus/js/morpheus-latest.min.js"></script>
   <!--<script type="text/javascript" src="subpage/js/morpheus-external-latest.min.js"></script>     
   <script type="text/javascript" src="subpage/js/morpheus-latest.min.js"></script> -->

   <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
   <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
   <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.default.min.css" integrity="sha512-pTaEn+6gF1IeWv3W1+7X7eM60TFu/agjgoHmYhAfLEU8Phuf6JKiiE8YmsNC0aCgQv4192s4Vai8YZ6VNM6vyQ==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js" integrity="sha512-IOebNkvA/HZjMM7MxL0NYeLYEalloZ8ckak+NDtOViP7oiYzG5vn6WVXyrJDiJPhl4yRdmNAG49iuLmhkUdVsQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   -->


   <script src="subpage/js/common_data.js"></script>
   <script src="subpage/js/common_function.js"></script>
  
   <link rel="stylesheet" href="subpage/css/common.css">
   <link rel="stylesheet" href="subpage/css/selectize.css">


   <script src="subpage/js/selectize.min.js"></script>
   <link rel="stylesheet" href="subpage/css/component.css">


   <script src="https://cdn.jsdelivr.net/npm/jstat@1.9.6/dist/jstat.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/10.1.0/math.min.js"></script>


   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

   <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet" />
   <script src="https://unpkg.com/gridjs/dist/gridjs.umd.js"></script>
 
  <style type="text/css">
   .btn:focus,
   .btn:active:focus,
   .btn.active:focus,
   .btn.focus,
   .btn:active.focus,
   .btn.active.focus {
     outline: none;
   }


   .m-5 {
     margin: 3rem !important
   }


   .m-3 {
     margin: 1rem !important
   }


   .th-text-align {
     text-align: center
   }
   .progress-bar {
     width:300px;
     height:30px;
     background-color:#f0f0f0;
     border-radius:10px;
     overflow:hidden;
     position: relative;
     top: 50%;
     left: 45%;
   }
   .progress-bar-inner{
     height:100%;
     background-color: #5bb78c;
     width:0;
     transition:width 0.5s;
   }
   </style>
</head>
<body>
   <div class="components-page">
     <div class="component-item">
         <header class="custom-header">
           <img src="/subpage/images/logo.png" class="header-logo">

             <div class="custom-header-inner">
               <ul class="custom-header-nav-grp" id="mymenu">

                 <li class="custom-header-nav">
                   <a href="#" class="link active">HOME</a>
                 </li>
    
                 <li class="custom-header-nav" name="NMF">
                   <a href="#" class="link">NMF Cluster</a>
                 </li>
    
                 <li class="custom-header-nav" name="IMMUNE">
                   <a href="#" class="link">Immune Cluster</a>
                 </li>
    
                 <li class="custom-header-nav" style="z-index: 999;">
                   <a href="#" class="link">Quantitation</a>
    
                   <div class="custom-header-sub-nav-grp">
                     <ul>
                       <li class="custom-header-sub-nav" name="PROTEIN">
                         <a href="#" class="sub-link">Protein</a>
                       </li>
                       <li class="custom-header-sub-nav" name="PHOSPHO">
                         <a href="#" class="sub-link">Phosphosite</a>
                       </li>
                       <li class="custom-header-sub-nav" name="ACETYL">
                         <a href="#" class="sub-link">Acetylsite</a>
                       </li>
                       <li class="custom-header-sub-nav" name="RNA">
                         <a href="#" class="sub-link">RNA</a>
                       </li>
                     </ul>
                   </div>
                 </li>
    
                 <li class="custom-header-nav" name="COMPARISON">
                   <a href="#" class="link">Group comparison</a>
                 </li>
    
                 <li class="custom-header-nav" name="SURVIVAL">
                   <a href="#" class="link">Survival analysis</a>
                 </li>

                 <li class="custom-header-nav" name="HELP">
                     <a href="/subpage/nmf_help.html" target="_blank" class="link">Help</a>
                 </li>
               </ul>
             </div>
           </header>
         </div>         
     </div>
     <div id="homeContent" style="overflow: hidden;">
       <div class="layerPopup">
           <div class="progress-bar">
             <span id="progressBarCount" style="position: absolute;margin-top: 3px;"></span>
             <div class="progress-bar-inner"></div>
           </div>
       </div>
       <div id="mainContent">
         <div id="NMFmainContent" ></div>
         <div id="IMMUNEmainContent" ></div>
         <div id="PROTEINmainContent" ></div>
         <div id="PHOSPHOmainContent"></div>
         <div id="ACETYLmainContent"></div>
         <div id="GENEmainContent"></div>
         <div id="COMPARISONmainContent" style="margin-top:-20px"></div>
         <div id="SURVIVALmainContent" style="margin-top:-20px"></div>
     </div>
     </div>
  
 </div>
</body>


<script type="text/javascript">


   var nmfPage = true;
   var immunPage = true;
   var proteinPage = true;
   var phosphoPage = true;
   var acetylPage = true;
   var genePage = true;
   var survivalPage = true;
   var comparisonPage = true;


   $(function() {


       function dropdownOpen() {     
           $('.dropdown').mouseover(function () {
               $(this).addClass('show');
              
               $(this).find(".dropdown-menu").addClass('show');
           }).mouseout(function () {
               $(this).find(".dropdown-menu").removeClass('show');
               $(this).removeClass('show');
           });
       }
       dropdownOpen();


       $("#mymenu li").click(function(){


         $('#mymenu li a').removeClass('active');
         $($(this).children()[0]).addClass('active');
          
           if($(this).attr('name') != undefined){
               $('#NMFmainContent').hide();
               $('#IMMUNEmainContent').hide();
               $('#PROTEINmainContent').hide();
               $('#PHOSPHOmainContent').hide();
               $('#ACETYLmainContent').hide();
               $('#GENEmainContent').hide();
               $('#COMPARISONmainContent').hide();
               $('#SURVIVALmainContent').hide();


               switch($(this).attr('name')){
                   case 'NMF':
                       $('#NMFmainContent').show();
                       if(nmfPage){
                           nmfPage = false;
                           $('#NMFmainContent').load('/subpage/nmf.html')
                       } 
                   break;
                   case 'IMMUNE':
                       $('#IMMUNEmainContent').show();
                       if(immunPage){
                           immunPage = false
                           $('#IMMUNEmainContent').load('/subpage/immune.html')
                       }
                   break;
                   case 'PROTEIN':
                       $('#PROTEINmainContent').show();
                       if(proteinPage){
                           proteinPage = false
                           $('#PROTEINmainContent').load('/subpage/quantitation_protein.html')
                       }
                   break;
                   case 'PHOSPHO':
                       $('#PHOSPHOmainContent').show();
                       if(phosphoPage){
                           phosphoPage = false
                           $('#PHOSPHOmainContent').load('/subpage/quantitation_phosphosite.html')
                       }
                   break;
                   case 'ACETYL':
                       $('#ACETYLmainContent').show();
                       if(acetylPage){
                           acetylPage = false
                           $('#ACETYLmainContent').load('/subpage/quantitation_acetylsite.html')
                       }
                   break;
                   case 'RNA':
                       $('#GENEmainContent').show();
                       if(genePage){
                           genePage = false
                           $('#GENEmainContent').load('/subpage/quantitation_gene.html')
                       }
                   break;
                   case 'COMPARISON':
                       $('#COMPARISONmainContent').show();
                       if(comparisonPage){
                           comparisonPage = false
                           $('#COMPARISONmainContent').load('/subpage/comparison.html')
                       }
                   break;
                   case 'SURVIVAL':
                       $('#SURVIVALmainContent').show();
                       if(survivalPage){
                           survivalPage = false
                           $('#SURVIVALmainContent').load('/subpage/survival_new.html')
                       }
                   break;
               }  
           }
          
       });

      /*showSpinner('homeContent');

       var percentage= 0;
       $(".progress-bar-inner").width(percentage+"%");
       $("#progressBarCount").text("0%");


      var interval = setInterval(function(){
         percentage+=10;
         $(".progress-bar-inner").width(percentage+"%");
         $("#progressBarCount").text(percentage+"%");

         if(percentage>=110){
           $(".progress-bar-inner").width(0+"%");
           $("#progressBarCount").text(0+"%");
           clearInterval(interval);
           hideSpinner('homeContent');
         }
       },1500);

       if(percentage>=110){
        clearInterval(interval);
       }*/

       $.ajax({
           type:"GET",   
           url: "../file/NMF_meta.csv",
           data:[],  
           dataType:"text",
           cache:false,
           success:function(data){  
             metaArray = data.split('\n');
           }
       });  


       $.ajax({
        type:"GET",   
        url: "../file/tumer_nmf_all.csv",
        data:[],  
        dataType:"text",
        cache:false,
        success:function(data){  
          allData = data.split('\n');
          hideSpinner('nmfContent');
          hideSpinner('ImmuneContent');
          hideSpinner('comparisonContent');
          hideSpinner('survivalContent');
          hideSpinner('acetylsiteContent');
          hideSpinner('phosphoContent');
          hideSpinner('proteinConent');
          hideSpinner('geneContent');
        }
      });
      
   });
 
 </script>
</html>



